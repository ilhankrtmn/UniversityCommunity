@model UniversityCommunity.Data.Models.PageModel.CommunityforListPage;
@using System;
@using System.Linq;
@{
    ViewData["Title"] = "CommunityList";
    Layout = "~/Views/Shared/UserLayout.cshtml";
}

<section class="main-content-w3layouts-agileits">
    <div class="container">
        <h3 class="tittle">Topluluklar</h3>
        <div class="inner-sec">
            <!--left-->
            <div class="left-blog-info-w3layouts-agileits text-left">
                <div class="row">

                    @foreach (var item in Model.Communities)
                    {
                        <div class="col-lg-4 card my-lg-4 my-md-1 my-0">
                            @*
                        Hem CustomerID değerini hemde GameID değerini döndürmeyi sağlıyor.
                        <a href="/Customer/ParticipateGame?GameID=@item.GameID&CustomerID=@item.CustomerID">
                        *@
                            <a href="/Customer/ParticipateGame?gameID=@item.Id">
                                <img src="@item.Image" class="card-img-top img-fluid" alt="">
                            </a>
                            <div class="card-body">
                                <ul class="blog-icons my-4">
                                    <li>
                                        <i class="far fa-calendar-alt"></i> @(((DateTime)item.CreatedDate).ToString("dd-MMM-yyyy"))
                                    </li>

                                </ul>
                                <h5 class="card-title">
                                    @item.Title
                                </h5>
                                @* <p class="card-text mb-3">@item.Description</p> *@
                                <p class="card-text mb-3">@item.Description.Substring(0, item.Description.Substring(0, 100).LastIndexOf(" ")) </p>
                                <a href="/Customer/ParticipateGame?gameID=@item.Id" class="btn btn-primary read-m">Topluluk Detayı</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>